<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Como transformamos suas fotos ¬∑ ‚úì Corre√ß√£o de cores e ilumina√ß√£o ¬∑ ‚úì Remo√ß√£o de ru√≠dos e imperfei√ß√µes ¬∑ ‚úì Ajuste de contraste e satura√ß√£o ¬∑ ‚úì Melhoria de foco e ...">
  <title>Skill Bridge</title>
  <link rel="stylesheet" href="style.css" />
  <!-- Chart.js for data visualization -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>

<!-- Animated background shapes -->
<div class="bg-shapes">
  <div class="shape shape-1"></div>
  <div class="shape shape-2"></div>
  <div class="shape shape-3"></div>
  <div class="shape shape-4"></div>
  <div class="shape shape-5"></div>
  <div class="shape shape-6"></div>
</div>

<!-- Floating particles -->
<div class="particles">
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
</div>

<div class="app">

  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <h2 class="logo">SkillBridge</h2>
      <button class="close-btn" onclick="closeSidebar()">‚úñ</button>
    </div>

    <nav>
      <button class="active" onclick="loadContent('dashboard', this)" title="Get an overview of your career progress and key metrics">üìä Dashboard</button>
      <button onclick="window.location.href='skills-analysis.html'" title="Analyze your skills with interactive charts and industry comparisons">üß† Skill Analysis</button>
      <button onclick="window.location.href='roadmap.html'" title="Explore personalized career paths with guidance and connections">üõ£Ô∏è Career Roadmap</button>
      <button onclick="window.location.href='internships.html'" title="Find internships and project opportunities to build experience">üöÄ Internships & Projects</button>
      <button onclick="window.location.href='resume.html'" title="Track and optimize your resume for better job prospects">üìÑ Resume Tracker</button>
    </nav>
  </aside>

  <!-- Main -->
  <div class="main">
    <header class="navbar">
      <button class="menu-btn" onclick="openSidebar()">‚ò∞</button>
      <h1 id="pageTitle">Dashboard</h1>
      <div class="profile" onclick="logout()" style="cursor: pointer;">üë§ Student</div>
    </header>

    <main class="content" id="content"></main>
  </div>

</div>

<script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-firestore-compat.js"></script>
<script>
  // Check if Firebase is available
  let firebaseAvailable = false;
  
  try {
    const firebaseConfig = {
      apiKey: "AIzaSyCgffF2_yiVYND2pl4j3-JJezYrI0Gzw7I",
      authDomain: "skill-bridge-92cff.firebaseapp.com",
      projectId: "skill-bridge-92cff",
      storageBucket: "skill-bridge-92cff.firebasestorage.app",
      messagingSenderId: "379886840265",
      appId: "1:379886840265:web:f73b1fc51080a2b7ace018",
      measurementId: "G-JKWNG1Y836"
    };

    firebase.initializeApp(firebaseConfig);
    window.auth = firebase.auth();
    window.db = firebase.firestore();
    const auth = firebase.auth();
    const db = firebase.firestore();
    firebaseAvailable = true;

    auth.onAuthStateChanged(async (user) => {
      if (user) {
        // User is signed in, get user data from Firestore
        try {
          const userDoc = await db.collection("users").doc(user.uid).get();
          if (userDoc.exists) {
            const userData = userDoc.data();
            document.querySelector('.profile').textContent = userData.name;
          }
        } catch (error) {
          console.log("Firestore error, falling back to local storage:", error);
          loadFromLocalStorage();
        }
      } else {
        // No user is signed in, try local storage fallback
        loadFromLocalStorage();
      }
    });
  } catch (error) {
    console.log("Firebase not available, using local storage fallback");
    loadFromLocalStorage();
  }
  
  // Fallback function to load user data from localStorage
  function loadFromLocalStorage() {
    const savedProfile = localStorage.getItem('userProfile');
    if (savedProfile) {
      const userData = JSON.parse(savedProfile);
      if (userData.fullName) {
        document.querySelector('.profile').textContent = userData.fullName;
      }
    }
  }
</script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="script.js"></script>
</body>
</html>